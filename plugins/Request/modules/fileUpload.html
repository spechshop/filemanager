<div class="modal fade" id="modalFileUpload" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content headerModal" style="border-bottom: none; border-radius: 13px !important;">
            <div class="modal-header" style="border: none !important;"></div>
            <div class="modal-body">
                <div class="form-group">
                    Escolha o tipo:
                    <select class="form-control" id="typeFile">
                        <option value="file">Arquivo</option>
                        <option value="dir">Pasta</option>
                    </select>
                    <input type="text" class="form-control mt-2 mb-2" id="nameFile" placeholder="Nome">
                    <center>
                        <button onclick="newFileMake()" type="button" class="btn btn-block btn-primary text-center">
                            Criar
                        </button>
                    </center>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function newFileMake() {
        const type = $('#typeFile').val();
        const name = $('#nameFile').val();
        if (name === '') {
            return alert('Preencha o nome');
        } else if (type === '') {
            return alert('Selecione o tipo');
        }
        $.ajaxForm({
            url: 'newFile',
            type: 'POST',
            processData: true,
            data: {
                type: type,
                name: name,
                tokenBrowser: $('#fp').text(),
                path: $('#pathInvisible').text()
            },
            success: async function (data) {
                if (data['success']) {
                    $('#modalNewFile').modal('hide');
                    const fopenDynamicToken = $('#fp').text();
                    const pathUsing = $('#pathInvisible').text();
                    setItemsInTbody(
                        (await asyncGet(`/syncPath?tokenBrowser=${fopenDynamicToken}&path=${pathUsing}`))['information'],
                        'filesList'
                    );
                    return bootstrap.showToast({
                        header: 'Sucesso',
                        body: 'ok',
                        toastClass: "bg-success text-white",
                        colorHeader: 'text-white',
                    });
                }
            }
        });
    }
</script>