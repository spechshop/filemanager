<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="js/curl-to-php.js"></script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Indie+Flower&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Courgette&display=swap" rel="stylesheet">


<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

<link rel="stylesheet" href="css/buildCurl.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script src="js/script.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap">
<!-- Coloca isso no <head> ou antes do script -->
<script src="https://unpkg.com/wavesurfer.js"></script>

<script src="https://unpkg.com/prettier@2.8.8/standalone.js"></script>
<script src="https://unpkg.com/@prettier/plugin-php@2.2.0/standalone.js"></script>

<style>
    .swal2-popup.fixed-modal {
        width: 900px !important;
        height: 600px !important;
        max-height: 600px;
        overflow: hidden;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
    }

    .swal2-html-container {
        flex: 1;
        overflow: auto;
    }


    .context-menu {
        position: absolute;
        background-color: #1e1e2f;
        border: 1px solid #3e3e5f;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        z-index: 9999999999999999;
        display: none;
        color: #e0e0e0;
        border-radius: 4px;
    }

    .context-menu ul {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .context-menu li {
        padding: 8px 12px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .context-menu li:hover {
        background-color: #2d2d3f;
    }


</style>

<script>

    /**
     * Função para exibir um toast na tela
     * @param {string} messageText Texto da mensagem
     * @param {string} titleMessage Título da mensagem
     * @param {number} expire Tempo de expiração em milissegundos
     * @param {string} type Tipo da mensagem (success, error, info, warning, danger, dark, default)
     */
    let toast;
    let toastHeight = 0;
    let toastZIndex = 3000;

    const themes = {
        success: {backgroundColor: "#2ecc71", color: "#fff", closeButtonColor: "#27ae60"},
        error: {backgroundColor: "#eb4d4b", color: "#fff", closeButtonColor: "#eb4d4b"},
        info: {backgroundColor: "#3498db", color: "#fff", closeButtonColor: "#3498db"},
        warning: {backgroundColor: "#f39c12", color: "#fff", closeButtonColor: "#f39c12"},
        danger: {backgroundColor: "#e74c3c", color: "#fff", closeButtonColor: "#e74c3c"},
        dark: {backgroundColor: "#34495e", color: "#fff", closeButtonColor: "#34495e"},
        default: {backgroundColor: "#333", color: "#fff", closeButtonColor: "#000"}
    };

    toast = function (messageText, titleMessage, expire, type) {
        updateToastPositions();
        const theme = themes[type] || themes.default;

        const toast = createToastElement(messageText, titleMessage, theme);
        document.body.appendChild(toast);
        toastHeight += toast.offsetHeight + 10; // Incrementa a altura acumulada

        animateProgressBar(toast.querySelector('.progress-bar'), expire, toast);
    }

    function createToastElement(messageText, titleMessage, theme) {
        const toast = document.createElement("div");
        Object.assign(toast.style, {
            position: "fixed", top: `${10 + toastHeight}px`, right: "10px", padding: "10px",
            backgroundColor: theme.backgroundColor, color: theme.color, borderRadius: "5px",
            boxShadow: "0 0 10px rgba(0, 0, 0, 0.2)", zIndex: toastZIndex++, // Incrementa o z-index
            width: "300px", marginBottom: "10px", fontSize: "13px"
        });
        toast.setAttribute('role', 'alert');  // Acessibilidade
        toast.setAttribute('aria-live', 'assertive');

        const header = createToastHeader(titleMessage, theme, toast);
        const message = document.createElement("div");
        message.textContent = messageText;

        const progress = createProgressBar();

        toast.appendChild(header);
        toast.appendChild(message);
        toast.appendChild(progress);

        return toast;
    }

    function createToastHeader(titleMessage, theme, toast) {
        const header = document.createElement("div");
        Object.assign(header.style, {
            display: "flex", alignItems: "center", justifyContent: "space-between",
            marginBottom: "10px", padding: "5px", borderRadius: "3px",
            backgroundColor: "rgba(255, 255, 255, 0.5)"
        });

        const title = document.createElement("strong");
        title.textContent = titleMessage;
        header.appendChild(title);

        const close = document.createElement("span");
        Object.assign(close.style, {
            width: "20px", height: "20px", display: "flex", alignItems: "center",
            justifyContent: "center", backgroundColor: theme.closeButtonColor,
            color: theme.color, borderRadius: "50%", fontSize: "16px", cursor: "pointer"
        });
        close.innerHTML = "&times;";
        close.onclick = () => removeToast(toast);
        header.appendChild(close);

        return header;
    }

    function createProgressBar() {
        const progress = document.createElement("div");
        Object.assign(progress.style, {
            position: "relative",
            height: "5px",
            marginTop: "10px",
            borderRadius: "2px"
        });

        const progressBar = document.createElement("div");
        Object.assign(progressBar.style, {
            height: "100%",
            backgroundColor: "#f9ca24",
            borderRadius: "2px",
            width: "100%"
        });
        progressBar.classList.add('progress-bar');

        progress.appendChild(progressBar);
        return progress;
    }

    function animateProgressBar(progressBar, duration, toast) {
        let elapsed = 0;
        const interval = 10;
        const timer = setInterval(() => {
            elapsed += interval;
            progressBar.style.width = `${((duration - elapsed) / duration) * 100}%`;
            if (elapsed >= duration) {
                clearInterval(timer);
                removeToast(toast);
            }
        }, interval);
    }

    function removeToast(toast) {
        toast.remove();
        toastHeight -= toast.offsetHeight + 10; // Ajusta a altura acumulada
        updateToastPositions();
    }

    function updateToastPositions() {
        const toasts = document.querySelectorAll("div[style*='position: fixed']");
        let height = 10;
        toasts.forEach(toast => {
            toast.style.top = `${height}px`;
            height += toast.offsetHeight + 10;
        });
        toastHeight = height - 10;
    }
    toastLotus = toast;

</script>
<style>
    .swal-gallery-style {
        max-width: 90vw !important;
        max-height: 90vh !important;
        overflow: hidden;
    }

    .gallery-box {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
    }

    .media-wrapper {
        max-width: 600px;
        max-height: 500px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .media-main {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        border-radius: 6px;
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
    }

    .thumb-prev {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 4px;
        cursor: pointer;
        transition: transform 0.2s;
    }

    .thumb-prev:hover {
        transform: scale(1.05);
        box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
    }

    .thumb-placeholder {
        width: 80px;
        height: 80px;
    }
</style>